(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4338)}])},572:function(e,r,t){"use strict";t.d(r,{Z:function(){return g}});var n,o=t(5944),i=t(7294),a=t(7357),l=t(8462),s=t(891),c=t(9953),u=t(5861),d=t(4381),p=t(3321),f=t(9253),m=t(1163);function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function v(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||Z(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,r){if(e){if("string"===typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,r):void 0}}var g=function(){var e=(0,m.useRouter)().query.roomName,r=v(i.useState(""),2),t=r[0],h=r[1],Z=v(i.useState([]),2),g=Z[0],b=Z[1],y=i.useRef(null);i.useEffect((function(){return(n=e?(0,f.ZP)({path:"/socketio/api/socket",query:{roomName:e}}):(0,f.ZP)({path:"/socketio/api/socket"})).on("updateMessage",(function(e){b((function(r){return x(r).concat([e])}))})),n.on("newMember",(function(e){b((function(r){return x(r).concat([e])}))})),n.on("exitMember",(function(e){b((function(r){return x(r).concat([e])}))})),function(){return n.disconnect()}}),[e]),i.useEffect((function(){var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[g]);var S=function(e){if(e.preventDefault(),""!==t.trim()){var r={msg:t,sender:null===n||void 0===n?void 0:n.id,userId:null===n||void 0===n?void 0:n.id};n.emit("message",r,(function(e){b((function(r){return x(r).concat([e])}))})),h("")}};return(0,o.BX)(a.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,o.BX)(l.Z,{sx:{border:"1px solid black",height:"60vh",overflowY:"auto",px:1,my:1},children:[g.map((function(e,r){return"server"!==e.sender?(0,o.tZ)(s.ZP,{children:(0,o.tZ)(c.Z,{primary:(0,o.tZ)(u.Z,{sx:{fontSize:"16px",fontWeight:"bold"},children:null===e||void 0===e?void 0:e.msg}),secondary:(0,o.tZ)(u.Z,{variant:"subtitle2",sx:{fontSize:"10px"},children:(null===e||void 0===e?void 0:e.userId)!==(null===n||void 0===n?void 0:n.id)?null===e||void 0===e?void 0:e.sender:"You"}),sx:{textAlign:(null===e||void 0===e?void 0:e.userId)===(null===n||void 0===n?void 0:n.id)?"end !important":"start !important",px:{md:5}}})},r):(0,o.tZ)(s.ZP,{children:(0,o.tZ)(c.Z,{primary:(0,o.tZ)(u.Z,{sx:{fontSize:"10px",fontWeight:"bold",bgcolor:"#70707040",display:"block",borderRadius:"10px",p:1},children:null===e||void 0===e?void 0:e.msg}),sx:{textAlign:"center !important"}})},r)})),(0,o.tZ)(a.Z,{ref:y})]}),(0,o.BX)(a.Z,{sx:{display:"flex",alignItems:"center",gap:2,my:2},children:[(0,o.tZ)(d.Z,{label:"Message",sx:{flexGrow:1},size:"small",value:t,onKeyPress:function(e){"Enter"===e.key&&S(e)},onChange:function(e){return h(e.target.value)}}),(0,o.tZ)(p.Z,{disabled:!t,variant:"contained",color:"primary",onClick:S,sx:{py:2,px:{md:5},height:"40px"},children:"Submit"})]})]})}},4338:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return U}});var n=t(5944),o=t(7294),i=t(3366),a=t(7462),l=t(6010),s=t(7192),c=t(7579),u=t(8216),d=t(1101),p=t(6628),f=t(5113),m=t(7623),h=t(1496),v=t(8979),x=t(6087);function Z(e){return(0,v.Z)("MuiDialog",e)}var g=(0,x.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var b=(0,o.createContext)({}),y=t(4808),S=t(2734),w=t(5893);const k=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],C=(0,h.ZP)(y.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,r)=>r.backdrop})({zIndex:-1}),W=(0,h.ZP)(d.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,r)=>r.root})({"@media print":{position:"absolute !important"}}),D=(0,h.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.container,r[`scroll${(0,u.Z)(t.scroll)}`]]}})((({ownerState:e})=>(0,a.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),M=(0,h.ZP)(f.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.paper,r[`scrollPaper${(0,u.Z)(t.scroll)}`],r[`paperWidth${(0,u.Z)(String(t.maxWidth))}`],t.fullWidth&&r.paperFullWidth,t.fullScreen&&r.paperFullScreen]}})((({theme:e,ownerState:r})=>(0,a.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===r.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===r.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!r.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===r.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`${e.breakpoints.values.xs}${e.breakpoints.unit}`,[`&.${g.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},"xs"!==r.maxWidth&&{maxWidth:`${e.breakpoints.values[r.maxWidth]}${e.breakpoints.unit}`,[`&.${g.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[r.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},r.fullWidth&&{width:"calc(100% - 64px)"},r.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${g.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})));var P=o.forwardRef((function(e,r){const t=(0,m.Z)({props:e,name:"MuiDialog"}),n=(0,S.Z)(),d={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":h,"aria-labelledby":v,BackdropComponent:x,BackdropProps:g,children:y,className:P,disableEscapeKeyDown:A=!1,fullScreen:N=!1,fullWidth:R=!1,maxWidth:B="sm",onBackdropClick:I,onClose:$,open:j,PaperComponent:T=f.Z,PaperProps:E={},scroll:_="paper",TransitionComponent:X=p.Z,transitionDuration:F=d,TransitionProps:z}=t,O=(0,i.Z)(t,k),Y=(0,a.Z)({},t,{disableEscapeKeyDown:A,fullScreen:N,fullWidth:R,maxWidth:B,scroll:_}),K=(e=>{const{classes:r,scroll:t,maxWidth:n,fullWidth:o,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${(0,u.Z)(t)}`],paper:["paper",`paperScroll${(0,u.Z)(t)}`,`paperWidth${(0,u.Z)(String(n))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return(0,s.Z)(a,Z,r)})(Y),q=o.useRef(),H=(0,c.Z)(v),J=o.useMemo((()=>({titleId:H})),[H]);return(0,w.jsx)(W,(0,a.Z)({className:(0,l.Z)(K.root,P),BackdropProps:(0,a.Z)({transitionDuration:F,as:x},g),closeAfterTransition:!0,BackdropComponent:C,disableEscapeKeyDown:A,onClose:$,open:j,ref:r,onClick:e=>{q.current&&(q.current=null,I&&I(e),$&&$(e,"backdropClick"))},ownerState:Y},O,{children:(0,w.jsx)(X,(0,a.Z)({appear:!0,in:j,timeout:F,role:"presentation"},z,{children:(0,w.jsx)(D,{className:(0,l.Z)(K.container),onMouseDown:e=>{q.current=e.target===e.currentTarget},ownerState:Y,children:(0,w.jsx)(M,(0,a.Z)({as:T,elevation:24,role:"dialog","aria-describedby":h,"aria-labelledby":H},E,{className:(0,l.Z)(K.paper,E.className),ownerState:Y,children:(0,w.jsx)(b.Provider,{value:J,children:y})}))})}))}))})),A=t(5861);function N(e){return(0,v.Z)("MuiDialogTitle",e)}var R=(0,x.Z)("MuiDialogTitle",["root"]);const B=["className","id"],I=(0,h.ZP)(A.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"});var $=o.forwardRef((function(e,r){const t=(0,m.Z)({props:e,name:"MuiDialogTitle"}),{className:n,id:c}=t,u=(0,i.Z)(t,B),d=t,p=(e=>{const{classes:r}=e;return(0,s.Z)({root:["root"]},N,r)})(d),{titleId:f=c}=o.useContext(b);return(0,w.jsx)(I,(0,a.Z)({component:"h2",className:(0,l.Z)(p.root,n),ownerState:d,ref:r,variant:"h6",id:f},u))}));function j(e){return(0,v.Z)("MuiDialogContent",e)}(0,x.Z)("MuiDialogContent",["root","dividers"]);const T=["className","dividers"],E=(0,h.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.dividers&&r.dividers]}})((({theme:e,ownerState:r})=>(0,a.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},r.dividers?{padding:"16px 24px",borderTop:`1px solid ${e.palette.divider}`,borderBottom:`1px solid ${e.palette.divider}`}:{[`.${R.root} + &`]:{paddingTop:0}})));var _=o.forwardRef((function(e,r){const t=(0,m.Z)({props:e,name:"MuiDialogContent"}),{className:n,dividers:o=!1}=t,c=(0,i.Z)(t,T),u=(0,a.Z)({},t,{dividers:o}),d=(e=>{const{classes:r,dividers:t}=e,n={root:["root",t&&"dividers"]};return(0,s.Z)(n,j,r)})(u);return(0,w.jsx)(E,(0,a.Z)({className:(0,l.Z)(d.root,n),ownerState:u,ref:r},c))}));function X(e){return(0,v.Z)("MuiDialogActions",e)}(0,x.Z)("MuiDialogActions",["root","spacing"]);const F=["className","disableSpacing"],z=(0,h.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,!t.disableSpacing&&r.spacing]}})((({ownerState:e})=>(0,a.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})));var O=o.forwardRef((function(e,r){const t=(0,m.Z)({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:o=!1}=t,c=(0,i.Z)(t,F),u=(0,a.Z)({},t,{disableSpacing:o}),d=(e=>{const{classes:r,disableSpacing:t}=e,n={root:["root",!t&&"spacing"]};return(0,s.Z)(n,X,r)})(u);return(0,w.jsx)(z,(0,a.Z)({className:(0,l.Z)(d.root,n),ownerState:u,ref:r},c))})),Y=t(3321),K=t(4381),q=t(1163),H=t(572);function J(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function L(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return J(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(){var e=(0,q.useRouter)(),r=L(o.useState(""),2),t=r[0],i=r[1],a=L(o.useState(!1),2),l=a[0],s=a[1];return(0,n.BX)(o.Fragment,{children:[(0,n.tZ)(H.Z,{}),(0,n.tZ)(Y.Z,{variant:"contained",color:"primary",onClick:function(){return s(!0)},sx:{py:2,px:{md:5},height:"40px",whiteSpace:"nowrap",width:1},children:"Create Custom Room"}),(0,n.BX)(P,{open:l,onClose:function(){return s(!1)},children:[(0,n.tZ)($,{sx:{fontSize:{xs:"15px",md:"22px"}},children:"Join in a private room"}),(0,n.tZ)(_,{sx:{width:{xs:1,md:"400px"},p:2},children:(0,n.tZ)(K.Z,{label:"Room Name",sx:{width:1,my:1},size:"small",value:t,onChange:function(e){return i(e.target.value)}})}),(0,n.BX)(O,{children:[(0,n.tZ)(Y.Z,{color:"secondary",onClick:function(){return s(!1)},children:"Cancel"}),(0,n.tZ)(Y.Z,{disabled:!t,color:"primary",onClick:function(r){r.preventDefault(),e.push("/room/".concat(t))},children:"Join"})]})]})]})}}},function(e){e.O(0,[48,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);